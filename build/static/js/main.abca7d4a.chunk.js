(this["webpackJsonpmeme-generator"]=this["webpackJsonpmeme-generator"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(18)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(9),c=n.n(i),r=(n(15),n(1)),s=n(2),m=n(4),l=n(3),u=function(e){Object(m.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).setSpans=function(){var e=a.imageRef.current.clientHeight,t=Math.ceil(e/10+2);a.setState({spans:t})},a.state={spans:0},a.imageRef=o.a.createRef(),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.imageRef.current.addEventListener("load",this.setSpans)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{gridRowEnd:"span ".concat(this.state.spans)}},o.a.createElement("img",{ref:this.imageRef,src:this.props.image.url,alt:this.props.image.name,id:this.props.image.id,onClick:function(t){return e.props.handleclick(t)}}))}}]),n}(o.a.Component),g=(n(16),function(e){Object(m.a)(n,e);var t=Object(l.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"h1"},"MEME MAKER"),o.a.createElement("div",null,o.a.createElement("button",{className:"btn-gallery",onClick:function(){return e.props.handleRandom()}},"Random Meme")),o.a.createElement("div",{className:"image-list"},this.props.images.map((function(t){return o.a.createElement(u,{key:t.id,image:t,handleclick:e.props.handleclick})}))))}}]),n}(a.Component)),d=n(5),p=n(6),h=(n(17),n(7)),f={toptext:"",bottomtext:"",isTopDragging:!1,isBottomDragging:!1,topX:"50%",topY:"10%",bottomX:"50%",bottomY:"90%"},v=function(e){Object(m.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).getStateObj=function(t,n){var a=e.imageRef.getBoundingClientRect(),o=t.clientX-a.left,i=t.clientY-a.top,c={};return"bottom"===n?c={isBottomDragging:!0,isTopDragging:!1,bottomX:"".concat(o,"px"),bottomY:"".concat(i,"px")}:"top"===n&&(c={isTopDragging:!0,isBottomDragging:!1,topX:"".concat(o,"px"),topY:"".concat(i,"px")}),c},e.changeText=function(t){e.setState(Object(p.a)({},t.currentTarget.id,t.currentTarget.value));var n=t.currentTarget.name;e.resizeText(n)},e.handleMouseDown=function(t,n){var a=e.getStateObj(t,n);document.addEventListener("mousemove",(function(t){return e.handleMouseMove(t,n)})),e.setState(Object(d.a)({},a))},e.handleMouseMove=function(t,n){if(e.state.isTopDragging||e.state.isBottomDragging){var a={};("bottom"===n&&e.state.isBottomDragging||"top"===n&&e.state.isTopDragging)&&(a=e.getStateObj(t,n)),e.setState(Object(d.a)({},a))}},e.handleMouseUp=function(t){document.removeEventListener("mousemove",e.handleMouseMove),e.setState({isTopDragging:!1,isBottomDragging:!1})},e.saveMeme=function(){var e=document.getElementById("memename").value;e.length>0?h.saveSvgAsPng(document.getElementById("svg_ref"),"".concat(e,".png")):h.saveSvgAsPng(document.getElementById("svg_ref"),"meme.png")},e.resetBoxes=function(){e.setState({toptext:"",bottomtext:"",topX:"50%",topY:"10%",bottomX:"50%",bottomY:"90%"}),document.getElementById("toptext").value="",document.getElementById("bottomtext").value="",document.getElementById("memename").value="",document.getElementById("tiptoptext").style.fontSize="50px",document.getElementById("bittybottomtext").style.fontSize="50px"},e.resizeText=function(t){var n=document.getElementById(t).textLength.baseVal.value,a=e.props.meme.width;n>a&&(document.getElementById(t).style.fontSize="".concat(a/n*40,"px"))},e.state=Object(d.a)({},f),e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.meme,n=500/(t.width/t.height),a={fontFamily:"Impact",fontSize:"50px",textTransform:"uppercase",fill:"#FFF",stroke:"#000",userSelect:"none"};return o.a.createElement("div",null,o.a.createElement("div",{className:"h1",onClick:function(){return e.props.toggleSelected()}},"MEME GENERATOR"),o.a.createElement("div",{className:"main-content"},o.a.createElement("div",{className:"meme-gen-modal"},o.a.createElement("svg",{id:"svg_ref",ref:function(t){e.svgRef=t},height:n,width:500},o.a.createElement("image",{ref:function(t){e.imageRef=t},xlinkHref:this.props.meme.url,height:n,width:500}),o.a.createElement("text",{id:"tiptoptext",style:Object(d.a)(Object(d.a)({},a),{},{zIndex:this.state.isTopDragging?4:1}),x:this.state.topX,y:this.state.topY,dominantBaseline:"middle",textAnchor:"middle",onMouseDown:function(t){return e.handleMouseDown(t,"top")},onMouseUp:function(t){return e.handleMouseUp(t,"top")}},this.state.toptext),o.a.createElement("text",{id:"bittybottomtext",style:a,dominantBaseline:"middle",textAnchor:"middle",x:this.state.bottomX,y:this.state.bottomY,onMouseDown:function(t){return e.handleMouseDown(t,"bottom")},onMouseUp:function(t){return e.handleMouseUp(t,"bottom")}},this.state.bottomtext)),o.a.createElement("div",{className:"meme-form"},o.a.createElement("input",{className:"form-control",type:"text",name:"tiptoptext",id:"toptext",placeholder:"Add text to the top",onChange:this.changeText}),o.a.createElement("input",{className:"form-control",type:"text",name:"bittybottomtext",id:"bottomtext",placeholder:"Add text to the bottom",onChange:this.changeText}),o.a.createElement("input",{className:"form-control",type:"text",id:"memename",placeholder:"Save meme as..."})),o.a.createElement("div",{className:"buttons"},o.a.createElement("button",{onClick:this.saveMeme,className:"btn btn-primary"},"Download Meme :D"),o.a.createElement("button",{onClick:this.resetBoxes,className:"btn btn-primary"},"Reset"),o.a.createElement("button",{onClick:function(){return e.props.toggleSelected()},className:"btn btn-primary"},"Back to Gallery")))))}}]),n}(a.Component),b=function(e){Object(m.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={images:[],selected:null,selectedImg:[]},e.handleImgClick=function(t){e.setState({selectedImg:e.state.images.find((function(e){return e.id===t.target.id}))}),e.toggleSelected()},e.chooseRandom=function(){e.setState({selected:!0,selectedImg:e.state.images[Math.floor(Math.random()*e.state.images.length)]})},e.toggleComponent=function(){return e.state.selected?o.a.createElement(v,{meme:e.state.selectedImg,toggleSelected:e.toggleSelected}):o.a.createElement(g,{handleRandom:e.chooseRandom,images:e.state.images,handleclick:e.handleImgClick})},e.toggleSelected=function(){e.setState({selected:!e.state.selected})},e}return Object(s.a)(n,[{key:"render",value:function(){return o.a.createElement("div",null,this.toggleComponent())}},{key:"componentDidMount",value:function(){var e=this;fetch("https://api.imgflip.com/get_memes").then((function(e){return e.json()})).then((function(t){e.setState({images:t.data.memes.filter((function(e){return 2===e.box_count}))})}))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.abca7d4a.chunk.js.map